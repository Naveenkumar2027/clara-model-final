{
  "tech_stack": [
    "TypeScript",
    "React (Vite)",
    "Node.js/Express",
    "Socket.IO",
    "Web Audio API",
    "Web Speech API (speechSynthesis)",
    "Playwright (used by Testsprite)",
    "Zod (validation)"
  ],
  "features": [
    {
      "name": "Client App Entry",
      "description": "Main Clara client application with realtime voice chat, TTS, language detection, map view, and call flow.",
      "files": [
        "apps/client/index.tsx"
      ]
    },
    {
      "name": "Client Components",
      "description": "UI components for mic, status, calls, and map navigation.",
      "files": [
        "apps/client/src/components/MicButton.tsx",
        "apps/client/src/components/StatusChip.tsx",
        "apps/client/src/components/CallToast.tsx",
        "apps/client/src/components/CallEndSummary.tsx",
        "apps/client/src/components/CallRoom.tsx",
        "apps/client/src/components/InCallControls.tsx",
        "apps/client/src/components/WebRTCVideoCall.tsx",
        "apps/client/src/MapNavigator.tsx",
        "apps/client/src/MapNavigator.css"
      ]
    },
    {
      "name": "Client Hooks",
      "description": "Audio and microphone hooks.",
      "files": [
        "apps/client/src/hooks/useAudio.ts",
        "apps/client/src/hooks/useMicrophone.ts"
      ]
    },
    {
      "name": "Client Services",
      "description": "Realtime call service and availability handler.",
      "files": [
        "apps/client/src/services/CallService.ts",
        "apps/client/src/services/availabilityQueryHandler.ts"
      ]
    },
    {
      "name": "Client Stores",
      "description": "Zustand store for call state.",
      "files": [
        "apps/client/src/stores/callStore.ts"
      ]
    },
    {
      "name": "Staff App",
      "description": "Staff interface with dashboard, notifications, and WebRTC acceptance.",
      "files": [
        "apps/staff/components/Dashboard.tsx",
        "apps/staff/components/AIChatAssistant.tsx",
        "apps/staff/services/StaffRTC.ts",
        "apps/staff/index.tsx"
      ]
    },
    {
      "name": "Server",
      "description": "Unified server with auth, Socket.IO namespace /rtc, calls and timetable routes.",
      "files": [
        "apps/server/src/index.ts",
        "apps/server/src/socket.ts",
        "apps/server/src/routes/calls.ts",
        "apps/server/src/repositories/*.ts",
        "apps/server/src/workers/TimeoutWorker.ts"
      ]
    },
    {
      "name": "Shared Packages",
      "description": "Shared schedule logic and types.",
      "files": [
        "packages/shared-schedule/src/**/*.ts",
        "packages/shared/src/**/*.ts"
      ]
    }
  ]
}
{
  "tech_stack": [
    "TypeScript",
    "JavaScript",
    "React",
    "Express.js",
    "Node.js",
    "PostgreSQL",
    "Socket.IO",
    "WebRTC",
    "Google Gemini AI",
    "Vite",
    "Vitest",
    "Zod",
    "date-fns-tz",
    "Zustand",
    "Framer Motion",
    "React Router"
  ],
  "features": [
    {
      "name": "Authentication & Authorization",
      "description": "JWT-based authentication system with token refresh, staff login, and role-based access control",
      "files": [
        "apps/server/src/index.ts",
        "apps/staff/components/Login.tsx",
        "apps/staff/components/ProtectedRoute.tsx"
      ]
    },
    {
      "name": "Audio Recognition & Speech Processing",
      "description": "Real-time audio capture from microphone, PCM encoding, silence detection, and streaming to Gemini AI for speech-to-text",
      "files": [
        "apps/client/index.tsx",
        "apps/client/src/hooks/useMicrophone.ts",
        "apps/client/src/hooks/useAudio.ts"
      ]
    },
    {
      "name": "Language Detection & TTS",
      "description": "Multi-language detection (English, Telugu, Hindi, Tamil, Kannada, Malayalam) with confidence scoring, and text-to-speech with language-specific voices",
      "files": [
        "apps/client/index.tsx"
      ]
    },
    {
      "name": "Video Call/WebRTC",
      "description": "WebRTC-based video calling with signaling via Socket.IO, SDP/ICE exchange, peer connection management, and call lifecycle handling",
      "files": [
        "apps/client/src/services/CallService.ts",
        "apps/client/src/components/WebRTCVideoCall.tsx",
        "apps/client/src/components/CallRoom.tsx",
        "apps/client/src/components/InCallControls.tsx",
        "apps/server/src/routes/calls.ts",
        "packages/webrtc/src/index.ts"
      ]
    },
    {
      "name": "Faculty Schedule Management",
      "description": "Faculty timetable management system with schedule validation, workload calculation, edit history, and real-time updates via Socket.IO",
      "files": [
        "apps/server/src/index.ts",
        "apps/server/src/timetableRepository.ts",
        "apps/staff/components/Timetable.tsx",
        "apps/staff/services/timetableApi.ts",
        "packages/shared-schedule/src/store.ts",
        "packages/shared-schedule/src/schema.ts"
      ]
    },
    {
      "name": "Availability Query System",
      "description": "Natural language query system for faculty availability with fuzzy name matching, real-time availability checks, and schedule queries",
      "files": [
        "apps/client/src/services/availabilityQueryHandler.ts",
        "apps/server/src/routes/faculty.ts",
        "packages/shared-schedule/src/availability.ts",
        "packages/shared-schedule/src/utils/name-matching.ts"
      ]
    },
    {
      "name": "Location Navigation",
      "description": "Campus location finding and navigation system with floor maps, location matching, and direction guidance",
      "files": [
        "apps/client/src/locationMatcher.ts",
        "apps/client/src/locationsDatabase.ts",
        "apps/client/src/MapNavigator.tsx",
        "apps/server/src/index.ts"
      ]
    },
    {
      "name": "Staff Management",
      "description": "Staff directory, availability tracking, skill-based filtering, and staff profile management",
      "files": [
        "apps/server/src/routes/staff.ts",
        "apps/server/src/repositories/staffAvailabilityRepository.ts",
        "apps/staff/components/TeamDirectory.tsx",
        "apps/staff/components/Dashboard.tsx"
      ]
    },
    {
      "name": "Notification System",
      "description": "Real-time notification system with read/unread status, notification creation, and Socket.IO-based delivery",
      "files": [
        "apps/server/src/index.ts",
        "apps/staff/components/NotificationContainer.tsx",
        "apps/staff/components/NotificationProvider.tsx",
        "apps/staff/components/NotificationSync.tsx"
      ]
    },
    {
      "name": "College AI Assistant",
      "description": "AI-powered conversational assistant using Google Gemini AI for answering college-related queries, location finding, and general information",
      "files": [
        "apps/client/index.tsx",
        "apps/staff/components/AIChatAssistant.tsx",
        "apps/staff/services/geminiService.ts"
      ]
    },
    {
      "name": "Real-time Communication",
      "description": "Socket.IO-based real-time communication for call signaling, notifications, timetable updates, and WebRTC signaling",
      "files": [
        "apps/server/src/socket.ts",
        "apps/client/index.tsx",
        "apps/staff/components/Dashboard.tsx",
        "packages/shared/src/events.ts"
      ]
    },
    {
      "name": "Time & Schedule Utilities",
      "description": "Timezone-aware time utilities, schedule validation, availability calculations, and working hours management",
      "files": [
        "packages/shared-schedule/src/utils/time.ts",
        "packages/shared-schedule/src/utils/name-matching.ts",
        "packages/shared-schedule/src/availability.ts"
      ]
    },
    {
      "name": "Meeting & Task Management",
      "description": "Meeting scheduling, task management with localStorage persistence, and meeting summarization",
      "files": [
        "apps/staff/components/MeetingSummarizer.tsx",
        "apps/staff/components/TaskManagement.tsx",
        "apps/staff/components/DashboardHome.tsx"
      ]
    },
    {
      "name": "Call Store & State Management",
      "description": "Zustand-based state management for call state, call data, and call lifecycle",
      "files": [
        "apps/client/src/stores/callStore.ts",
        "apps/staff/src/stores/callStore.ts"
      ]
    },
    {
      "name": "Device Permission Management",
      "description": "Camera and microphone permission handling, device selection, and permission prompts",
      "files": [
        "apps/client/src/components/DevicePermissionPrompt.tsx",
        "apps/client/src/components/InCallControls.tsx"
      ]
    },
    {
      "name": "Error Handling & Logging",
      "description": "Comprehensive error handling, logging, and user feedback systems",
      "files": [
        "apps/server/src/index.ts",
        "apps/client/index.tsx",
        "apps/staff/components/ErrorBoundary.tsx"
      ]
    },
    {
      "name": "Rate Limiting & Security",
      "description": "Rate limiting for API endpoints, CORS configuration, and security measures",
      "files": [
        "apps/server/src/index.ts"
      ]
    },
    {
      "name": "Health Checks & Monitoring",
      "description": "Health check endpoints, server status monitoring, and diagnostic endpoints",
      "files": [
        "apps/server/src/index.ts",
        "apps/client/src/pages/diagnostics/audio-network.tsx"
      ]
    }
  ]
}
